<!doctype html>
<html>
<head>
	<title>Demo</title>
	<meta charset="utf-8"> 
	<script src="../vendor/require.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/chess-grid.css" />
</head>
<body>
	<div class="chess-grid" data-margin="8" data-text-position="auto" data-columns="2">
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Title 1</h2>
						Описание галереи 1
						<a href="">смотреть</a>
					</div>
				</div>
			</div>
			<div class="chess-grid-image" data-width="940" data-height="656">
				<img data-src="images/9.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>
		</div>
		<div class="chess-grid-item text-right" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 2</h2>
						Очень длинное описание которое не влазит в одну строчку
						<a href="">смотреть</a>
					</div>
				</div>				
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				 <img data-src="images/1.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 3</h2>
						Очень длинное описание с<br>принудительным переносом
						<a href="">смотреть</a>
					</div>
				</div>					
			</div>
			<div class="chess-grid-image" data-width="940" data-height="656">
				<img data-src="images/9.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>
		</div>	
		<div class="chess-grid-item text-left" data-type="nx2" data-rate="1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 4</h2>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.<br><br>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
						<a href="">смотреть</a>
					</div>
				</div>					
			</div>
			<div class="chess-grid-image" data-width="1024" data-height="681">
				<img data-src="images/2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>
		<div class="chess-grid-item text-right" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 5</h2>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit.
						<a href="">смотреть</a>
					</div>
				</div>					
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				 <img data-src="images/1.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>	
		<div class="chess-grid-item text-left" data-type="2x2">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 6</h2>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit.
						<a href="">смотреть</a>
					</div>
				</div>					
			</div>
			<div class="chess-grid-image" data-width="940" data-height="656">
				<img data-src="images/9.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>
		</div>
		<div class="chess-grid-item text-right" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 7</h2>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
						<a href="">смотреть</a>
					</div>
				</div>									
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				 <img data-src="images/1.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>		
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 8</h2>
						<a href="">смотреть</a>
					</div>		
				</div>		
			</div>
			<div class="chess-grid-image" data-width="428" data-height="684">
				<img data-src="images/3.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>
		</div>
		<div class="chess-grid-item text-left" data-type="nx2" data-rate="2">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 9</h2>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
						<a href="">смотреть</a>
					</div>		
				</div>	
			</div>
			<div class="chess-grid-image" data-width="1024" data-height="681">
				<img data-src="images/2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>		
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 10,<br>с очень длинным названием</h2>
						и коротким описанием
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="940" data-height="660">
				<img data-src="images/4.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>
		<div class="chess-grid-item text-hover" data-type="2x2">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 11</h2>
						появляется при наведении
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="428" data-height="684">
				<img data-src="images/5.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>			
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 12,<br>с очень длинным названием</h2>
						и длинным описанием sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
						<a href="">смотреть</a>
					</div>		
				</div>				
			</div>
			<div class="chess-grid-image" data-width="987" data-height="684">
				<img data-src="images/6.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>	
		</div>	
		<div class="chess-grid-item text-left" data-type="nx2" data-rate="3">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 13,<br>с очень длинным названием</h2>
						и описанием размером с "Войну и мир".<br><br>
						— Eh bien, mon prince. Gênes et Lucques ne sont plus que des apanages, des поместья, de la famille Buonaparte. Non, je vous préviens que si vous ne me dites pas que nous avons la guerre, si vous vous permettez encore de pallier toutes les infamies, toutes les atrocités de cet Antichrist (ma parole, j'y crois) — je ne vous connais plus, vous n'êtes plus mon ami, vous n'êtes plus мой верный раб, comme vous dites 1. Ну, здравствуйте, здравствуйте. Je vois que je vous fais peur 2, садитесь и рассказывайте.<br><br>
						Так говорила в июле 1805 года известная Анна Павловна Шерер, фрейлина и приближенная императрицы Марии Феодоровны, встречая важного и чиновного князя Василия, первого приехавшего на ее вечер. Анна Павловна кашляла несколько дней, у нее был грипп, как она говорила (грипп был тогда новое слово, употреблявшееся только редкими). В записочках, разосланных утром с красным лакеем, было написано без различия во всех:
						<a href="">смотреть</a>
					</div>		
				</div>				
			</div>
			<div class="chess-grid-image" data-width="1024" data-height="681">
				<img data-src="images/2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>		
		<div class="chess-grid-item text-left" data-type="2x2">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 14</h2>
						<a href="">смотреть</a>
					</div>		
				</div>				
			</div>
			<div class="chess-grid-image" data-width="940" data-height="668">
				<img data-src="images/7.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>	
		</div>
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 15</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				<img data-src="images/8.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>		
		</div>			
		<div class="chess-grid-item text-left" data-type="2x2">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 16</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				<img data-src="images/8.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>		
		</div>			
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 17</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				<img data-src="images/8.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>		
		</div>			
		<div class="chess-grid-item text-left" data-type="nx2" data-rate="1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 18</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="1024" data-height="681">
				<img data-src="images/2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>			
		</div>		
		<div class="chess-grid-item text-left" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 19</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="940" data-height="668">
				<img data-src="images/7.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>	
		</div>
		<div class="chess-grid-item text-hover" data-type="2x1">
			<div class="chess-grid-text">
				<div class="cell">
					<div class="middle">
						<h2>Галерея 20</h2>
						<a href="">смотреть</a>
					</div>		
				</div>					
			</div>
			<div class="chess-grid-image" data-width="612" data-height="612">
				<img data-src="images/8.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
			</div>		
		</div>															
	</div>
	<script>
		requirejs.config({
			baseUrl: '../' + (document.location.hash == '#dist'? 'dist': 'src'),
			paths: {
				'backbone': '../vendor/backbone-min',
				'underscore': '../vendor/underscore-min',
				'jquery': '../vendor/jquery-1.11.0.min',
				'loading-queue': '../vendor/jquery.loading-queue.min',
			},
			shim: {
				'loading-queue': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'backbone': {
					deps: ['jquery', 'underscore'],
			    	exports: 'Backbone'
				}
			}
		});

		require(['chess-grid', 'loading-queue'],function(ChessGrid){
	
			var grid = new ChessGrid({
				el: $('.chess-grid')
			});
		
			grid.render();	

            var images = $('.chess-grid-image img')
            images.loadingQueue({}, 3);
           	images.on('load', function() {
			   $(this).parent().css({
				   'background-image':'url("'+$(this).attr('src')+'")'
			   });
			   $(this).remove();
        	}); 
		});	
	</script>
</body>
</html>
